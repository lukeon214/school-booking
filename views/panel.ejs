<h1>Form Panel: <%= form.title %></h1>

<div style="margin-bottom: 1rem">
  <a href="/dashboard"><button class="secondary">‚Üê Back to Dashboard</button></a>
</div>

<div class="card">
  <strong>Public Form Link:</strong><br>
  <input id="formLink" readonly value="http://localhost:3333/form/<%= form.id %>">
  <button onclick="copy()">Copy</button>
</div>

<script>
function copy() {
  const input = document.getElementById('formLink');
  input.select();
  document.execCommand('copy');
  alert('Link copied!');
}
</script>

<h2>Responses</h2>
<% if (!responses.length) { %>
  <p>No responses submitted yet.</p>
<% } %>

<% responses.forEach((submission, index) => { %>
  <div class="card">
    <strong><%= submission.email %></strong><br><br>
    <% submission.fields.forEach(f => { %>
      <strong><%= f.label %>:</strong> <%= f.value %><br>
    <% }) %>
  </div>
<% }) %>